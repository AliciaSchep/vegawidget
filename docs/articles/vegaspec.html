<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Specify using vegaspec • vegawidget</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Specify using vegaspec">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">vegawidget</a>
        <span class="label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased package">0.0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/first-example.html">First Example</a>
    </li>
    <li class="divider">
    <li>
      <a href="../articles/vegaspec.html">Specify using vegaspec</a>
    </li>
    <li>
      <a href="../articles/vegawidget.html">Render using vegawidget</a>
    </li>
    <li>
      <a href="../articles/blocks.html">Share with bl.ocks.org</a>
    </li>
    <li>
      <a href="../articles/image.html">Create Images</a>
    </li>
    <li>
      <a href="../articles/import.html">Import into Other Packages</a>
    </li>
    <li>
      <a href="../articles/utilities.html">Utilities</a>
    </li>
    <li class="divider">
    <li>
      <a href="../articles/visual-regression.html">Visual Regression</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/vegawidget/vegawidget">
    <span class="fa fa-github fa-2x"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="vegaspec_files/htmlwidgets-1.2/htmlwidgets.js"></script><script src="vegaspec_files/vega-4.0.0/promise.min.js"></script><script src="vegaspec_files/vega-4.0.0/symbol.min.js"></script><script src="vegaspec_files/vega-4.0.0/vega.js"></script><script src="vegaspec_files/vega-lite-2.6.0/vega-lite.min.js"></script><link href="vegaspec_files/vega-embed-3.16.0/vega-embed.css" rel="stylesheet">
<script src="vegaspec_files/vega-embed-3.16.0/vega-embed-modified.js"></script><script src="vegaspec_files/vegawidget-binding-0.0.3/vegawidget.js"></script><link href="vegaspec_files/jsoneditor-5.5.5/jsoneditor.min.css" rel="stylesheet">
<script src="vegaspec_files/jsoneditor-5.5.5/jsoneditor.min.js"></script><script src="vegaspec_files/jsonedit-binding-2.0.0/jsonedit.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Specify using vegaspec</h1>
            
            <h4 class="date">2018-08-19</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/vegawidget/vegawidget/blob/master/vignettes/vegaspec.Rmd"><code>vignettes/vegaspec.Rmd</code></a></small>
      <div class="hidden name"><code>vegaspec.Rmd</code></div>

    </div>

    
    
<p>The central object of this package is a vegaspec, short for “Vega specification”. In our context, this refers to either a Vega or Vega-Lite specification.</p>
<p>TODO - draw the subject threads together into an introduction.</p>
<div id="vegaspec" class="section level2">
<h2 class="hasAnchor">
<a href="#vegaspec" class="anchor"></a>Vegaspec</h2>
<p>A vegaspec is created using the constructor <code><a href="../reference/as_vegaspec.html">as_vegaspec()</a></code>. You can coerce to a <code>vegaspec</code> object from a <code>list</code>, <code>character</code> or a <strong>jsonlite</strong> <code>json</code> object.</p>
<p>Vega and Vega-Lite expect JSON. However, within R, it is easier to work with lists. This is one of the philosophies of this package: a vegaspec “lives” as a list, and then is corerced to JSON when rendered as a vegawidget.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(<span class="st">"vegawidget"</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"></a>
<a class="sourceLine" id="cb1-3" data-line-number="3">list_anscombe_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">list</span>(</a>
<a class="sourceLine" id="cb1-4" data-line-number="4">  <span class="st">`</span><span class="dt">$schema</span><span class="st">`</span> =<span class="st"> "https://vega.github.io/schema/vega-lite/v2.json"</span>,</a>
<a class="sourceLine" id="cb1-5" data-line-number="5">  <span class="dt">data =</span> <span class="kw">list</span>(<span class="dt">values =</span> anscombe),</a>
<a class="sourceLine" id="cb1-6" data-line-number="6">  <span class="dt">mark =</span> <span class="st">"point"</span>,</a>
<a class="sourceLine" id="cb1-7" data-line-number="7">  <span class="dt">encoding =</span> <span class="kw">list</span>(</a>
<a class="sourceLine" id="cb1-8" data-line-number="8">    <span class="dt">x =</span> <span class="kw">list</span>(<span class="dt">field =</span> <span class="st">"x1"</span>, <span class="dt">type =</span> <span class="st">"quantitative"</span>),</a>
<a class="sourceLine" id="cb1-9" data-line-number="9">    <span class="dt">y =</span> <span class="kw">list</span>(<span class="dt">field =</span> <span class="st">"y1"</span>, <span class="dt">type =</span> <span class="st">"quantitative"</span>)</a>
<a class="sourceLine" id="cb1-10" data-line-number="10">  )</a>
<a class="sourceLine" id="cb1-11" data-line-number="11">) </a>
<a class="sourceLine" id="cb1-12" data-line-number="12"></a>
<a class="sourceLine" id="cb1-13" data-line-number="13">spec_anscombe_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw"><a href="../reference/as_vegaspec.html">as_vegaspec</a></span>(list_anscombe_<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb1-14" data-line-number="14"></a>
<a class="sourceLine" id="cb1-15" data-line-number="15">spec_anscombe_<span class="dv">1</span></a></code></pre></div>
<div id="htmlwidget-a7750f3265e1a9ee9c10" style="width:960px;height:500px;" class="vegawidget html-widget"></div>
<script type="application/json" data-for="htmlwidget-a7750f3265e1a9ee9c10">{"x":{
  "chart_spec": {
    "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
    "data": {
      "values": [
        {
          "x1": 10,
          "x2": 10,
          "x3": 10,
          "x4": 8,
          "y1": 8.04,
          "y2": 9.14,
          "y3": 7.46,
          "y4": 6.58
        },
        {
          "x1": 8,
          "x2": 8,
          "x3": 8,
          "x4": 8,
          "y1": 6.95,
          "y2": 8.14,
          "y3": 6.77,
          "y4": 5.76
        },
        {
          "x1": 13,
          "x2": 13,
          "x3": 13,
          "x4": 8,
          "y1": 7.58,
          "y2": 8.74,
          "y3": 12.74,
          "y4": 7.71
        },
        {
          "x1": 9,
          "x2": 9,
          "x3": 9,
          "x4": 8,
          "y1": 8.81,
          "y2": 8.77,
          "y3": 7.11,
          "y4": 8.84
        },
        {
          "x1": 11,
          "x2": 11,
          "x3": 11,
          "x4": 8,
          "y1": 8.33,
          "y2": 9.26,
          "y3": 7.81,
          "y4": 8.47
        },
        {
          "x1": 14,
          "x2": 14,
          "x3": 14,
          "x4": 8,
          "y1": 9.96,
          "y2": 8.1,
          "y3": 8.84,
          "y4": 7.04
        },
        {
          "x1": 6,
          "x2": 6,
          "x3": 6,
          "x4": 8,
          "y1": 7.24,
          "y2": 6.13,
          "y3": 6.08,
          "y4": 5.25
        },
        {
          "x1": 4,
          "x2": 4,
          "x3": 4,
          "x4": 19,
          "y1": 4.26,
          "y2": 3.1,
          "y3": 5.39,
          "y4": 12.5
        },
        {
          "x1": 12,
          "x2": 12,
          "x3": 12,
          "x4": 8,
          "y1": 10.84,
          "y2": 9.13,
          "y3": 8.15,
          "y4": 5.56
        },
        {
          "x1": 7,
          "x2": 7,
          "x3": 7,
          "x4": 8,
          "y1": 4.82,
          "y2": 7.26,
          "y3": 6.42,
          "y4": 7.91
        },
        {
          "x1": 5,
          "x2": 5,
          "x3": 5,
          "x4": 8,
          "y1": 5.68,
          "y2": 4.74,
          "y3": 5.73,
          "y4": 6.89
        }
      ]
    },
    "mark": "point",
    "encoding": {
      "x": {
        "field": "x1",
        "type": "quantitative"
      },
      "y": {
        "field": "y1",
        "type": "quantitative"
      }
    }
  },
  "embed_options": {
    "defaultStyle": true,
    "renderer": "canvas"
  }
},"evals":[],"jsHooks":[]}</script><p>Accordingly, the <code>vegaspec</code> S3 class inherits from <code>list</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">str</span>(spec_anscombe_<span class="dv">1</span>)</a></code></pre></div>
<pre><code>## List of 4
##  $ $schema : chr "https://vega.github.io/schema/vega-lite/v2.json"
##  $ data    :List of 1
##   ..$ values:'data.frame':   11 obs. of  8 variables:
##   .. ..$ x1: num [1:11] 10 8 13 9 11 14 6 4 12 7 ...
##   .. ..$ x2: num [1:11] 10 8 13 9 11 14 6 4 12 7 ...
##   .. ..$ x3: num [1:11] 10 8 13 9 11 14 6 4 12 7 ...
##   .. ..$ x4: num [1:11] 8 8 8 8 8 8 8 19 8 8 ...
##   .. ..$ y1: num [1:11] 8.04 6.95 7.58 8.81 8.33 ...
##   .. ..$ y2: num [1:11] 9.14 8.14 8.74 8.77 9.26 8.1 6.13 3.1 9.13 7.26 ...
##   .. ..$ y3: num [1:11] 7.46 6.77 12.74 7.11 7.81 ...
##   .. ..$ y4: num [1:11] 6.58 5.76 7.71 8.84 8.47 7.04 5.25 12.5 5.56 7.91 ...
##  $ mark    : chr "point"
##  $ encoding:List of 2
##   ..$ x:List of 2
##   .. ..$ field: chr "x1"
##   .. ..$ type : chr "quantitative"
##   ..$ y:List of 2
##   .. ..$ field: chr "y1"
##   .. ..$ type : chr "quantitative"
##  - attr(*, "class")= chr [1:3] "vegaspec_vega_lite" "vegaspec" "list"</code></pre>
<p>A couple of points before going further. We have a helper function, <code><a href="../reference/vega_schema.html">vega_schema()</a></code>, that you can use to generate the string for the <code>$schema</code> element. This can be useful if you are writing a vegaspec manually. We also have a function, <code><a href="../reference/vw_examine.html">vw_examine()</a></code>, that you can use to, well, examine a vegaspec.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">list_anscombe_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">list</span>(</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">  <span class="st">`</span><span class="dt">$schema</span><span class="st">`</span> =<span class="st"> </span><span class="kw"><a href="../reference/vega_schema.html">vega_schema</a></span>(),  <span class="co"># defaults to major version of "vega_lite"</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3">  <span class="dt">data =</span> <span class="kw">list</span>(<span class="dt">values =</span> anscombe),</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">  <span class="dt">mark =</span> <span class="st">"point"</span>,</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">  <span class="dt">encoding =</span> <span class="kw">list</span>(</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">    <span class="dt">x =</span> <span class="kw">list</span>(<span class="dt">field =</span> <span class="st">"x1"</span>, <span class="dt">type =</span> <span class="st">"quantitative"</span>),</a>
<a class="sourceLine" id="cb4-7" data-line-number="7">    <span class="dt">y =</span> <span class="kw">list</span>(<span class="dt">field =</span> <span class="st">"y1"</span>, <span class="dt">type =</span> <span class="st">"quantitative"</span>)</a>
<a class="sourceLine" id="cb4-8" data-line-number="8">  )</a>
<a class="sourceLine" id="cb4-9" data-line-number="9">) </a>
<a class="sourceLine" id="cb4-10" data-line-number="10"></a>
<a class="sourceLine" id="cb4-11" data-line-number="11">spec_anscombe_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw"><a href="../reference/as_vegaspec.html">as_vegaspec</a></span>(list_anscombe_<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb4-12" data-line-number="12"></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="kw"><a href="../reference/vw_examine.html">vw_examine</a></span>(spec_anscombe_<span class="dv">1</span>)</a></code></pre></div>
<div id="htmlwidget-ce6777dd3d23b8eb016e" style="width:700px;height:432.632880098888px;" class="jsonedit html-widget"></div>
<script type="application/json" data-for="htmlwidget-ce6777dd3d23b8eb016e">{"x":{"data":{"$schema":"https://vega.github.io/schema/vega-lite/v2.json","data":{"values":{"x1":[10,8,13,9,11,14,6,4,12,7,5],"x2":[10,8,13,9,11,14,6,4,12,7,5],"x3":[10,8,13,9,11,14,6,4,12,7,5],"x4":[8,8,8,8,8,8,8,19,8,8,8],"y1":[8.04,6.95,7.58,8.81,8.33,9.96,7.24,4.26,10.84,4.82,5.68],"y2":[9.14,8.14,8.74,8.77,9.26,8.1,6.13,3.1,9.13,7.26,4.74],"y3":[7.46,6.77,12.74,7.11,7.81,8.84,6.08,5.39,8.15,6.42,5.73],"y4":[6.58,5.76,7.71,8.84,8.47,7.04,5.25,12.5,5.56,7.91,6.89]}},"mark":"point","encoding":{"x":{"field":"x1","type":"quantitative"},"y":{"field":"y1","type":"quantitative"}}},"options":{"mode":"tree","modes":["code","form","text","tree","view"]}},"evals":[],"jsHooks":[]}</script><p>The <code><a href="../reference/vw_examine.html">vw_examine()</a></code> function is a thin wrapper around <code><a href="http://www.rdocumentation.org/packages/listviewer/topics/jsonedit">listviewer::jsonedit()</a></code>; it can be handy to see what is “going on” inside a vegaspec.</p>
<p>The <code><a href="../reference/vega_schema.html">vega_schema()</a></code> function has an argument to specify the <code>library</code> as either <code>"vega-lite"</code> or <code>"vega"</code>, and another that indicates to use the <code>major</code> version of the <code>library</code>. It has a complematary function, <code><a href="../reference/vw_spec_version.html">vw_spec_version()</a></code>, that can be used to return the <code>library</code> and <code>version</code> of the schema of a vegaspes:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="../reference/vw_spec_version.html">vw_spec_version</a></span>(spec_anscombe_<span class="dv">1</span>)</a></code></pre></div>
<pre><code>## $library
## [1] "vega_lite"
## 
## $version
## [1] "2"</code></pre>
</div>
<div id="printing" class="section level2">
<h2 class="hasAnchor">
<a href="#printing" class="anchor"></a>Printing</h2>
<p>A few words about <code>print()</code> and <code>knit_print()</code> methods, then refer to the vegawidget article for more details.</p>
</div>
<div id="json" class="section level2">
<h2 class="hasAnchor">
<a href="#json" class="anchor"></a>JSON</h2>
<p>When a vegaspec is rendered as a vegawidget, the spec is coerced automatically to JSON by the <code><a href="../reference/vegawidget.html">vegawidget()</a></code> function. Like other JSON-based systems, Vega and Vega-Lite have their own particularities in their JSON format. These are taken into account by the function <code><a href="../reference/vw_as_json.html">vw_as_json()</a></code>, which is a wrapper around <code><a href="http://www.rdocumentation.org/packages/jsonlite/topics/fromJSON">jsonlite::toJSON()</a></code>. You may find this handy if you want to write a vegaspec to disk or elsewhere.</p>
<p>We can examine the JSON:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">json_anscombe_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw"><a href="../reference/vw_as_json.html">vw_as_json</a></span>(spec_anscombe_<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="kw"><a href="../reference/vw_examine.html">vw_examine</a></span>(json_anscombe_<span class="dv">1</span>)</a></code></pre></div>
<div id="htmlwidget-40f167e1ede0552d8fcf" style="width:700px;height:432.632880098888px;" class="jsonedit html-widget"></div>
<script type="application/json" data-for="htmlwidget-40f167e1ede0552d8fcf">{"x":{"data":{"$schema":"https://vega.github.io/schema/vega-lite/v2.json","data":{"values":[{"x1":10,"x2":10,"x3":10,"x4":8,"y1":8.04,"y2":9.14,"y3":7.46,"y4":6.58},{"x1":8,"x2":8,"x3":8,"x4":8,"y1":6.95,"y2":8.14,"y3":6.77,"y4":5.76},{"x1":13,"x2":13,"x3":13,"x4":8,"y1":7.58,"y2":8.74,"y3":12.74,"y4":7.71},{"x1":9,"x2":9,"x3":9,"x4":8,"y1":8.81,"y2":8.77,"y3":7.11,"y4":8.84},{"x1":11,"x2":11,"x3":11,"x4":8,"y1":8.33,"y2":9.26,"y3":7.81,"y4":8.47},{"x1":14,"x2":14,"x3":14,"x4":8,"y1":9.96,"y2":8.1,"y3":8.84,"y4":7.04},{"x1":6,"x2":6,"x3":6,"x4":8,"y1":7.24,"y2":6.13,"y3":6.08,"y4":5.25},{"x1":4,"x2":4,"x3":4,"x4":19,"y1":4.26,"y2":3.1,"y3":5.39,"y4":12.5},{"x1":12,"x2":12,"x3":12,"x4":8,"y1":10.84,"y2":9.13,"y3":8.15,"y4":5.56},{"x1":7,"x2":7,"x3":7,"x4":8,"y1":4.82,"y2":7.26,"y3":6.42,"y4":7.91},{"x1":5,"x2":5,"x3":5,"x4":8,"y1":5.68,"y2":4.74,"y3":5.73,"y4":6.89}]},"mark":"point","encoding":{"x":{"field":"x1","type":"quantitative"},"y":{"field":"y1","type":"quantitative"}}},"options":{"mode":"tree","modes":["code","form","text","tree","view"]}},"evals":[],"jsHooks":[]}</script><p>You will notice a difference between the original, <code>spec_anscombe_1</code>, and the json version, <code>json_ancombe_1</code>: the <code>data$values</code> element has been transposed. As you know, an R data frame is column-oriented; Vega expects data to be row-oriented. Our function <code><a href="../reference/vw_as_json.html">vw_as_json()</a></code> takes care of this so that the spec will render properly. This is a one-way trip; it is an exercise for the reader to show that <code><a href="../reference/as_vegaspec.html">as_vegaspec()</a></code> does not change this back.</p>
</div>
<div id="sizing" class="section level2">
<h2 class="hasAnchor">
<a href="#sizing" class="anchor"></a>Sizing</h2>
<p>Sizing can be a tricky issue in Vega-Lite.</p>
<p>The first thing to keep in mind is that the default interpretation of width and height refers to the dimensions of the plotting area. For example, we can set <code>width</code> and <code>height</code> of our Anscombe spec:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">spec_anscombe_size &lt;-<span class="st"> </span>spec_anscombe_<span class="dv">1</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"></a>
<a class="sourceLine" id="cb8-3" data-line-number="3">spec_anscombe_size<span class="op">$</span>width  &lt;-<span class="st"> </span><span class="dv">300</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4">spec_anscombe_size<span class="op">$</span>height &lt;-<span class="st"> </span><span class="dv">300</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"></a>
<a class="sourceLine" id="cb8-6" data-line-number="6">spec_anscombe_size</a></code></pre></div>
<div id="htmlwidget-666f70b7cc826ad937ca" style="width:960px;height:500px;" class="vegawidget html-widget"></div>
<script type="application/json" data-for="htmlwidget-666f70b7cc826ad937ca">{"x":{
  "chart_spec": {
    "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
    "data": {
      "values": [
        {
          "x1": 10,
          "x2": 10,
          "x3": 10,
          "x4": 8,
          "y1": 8.04,
          "y2": 9.14,
          "y3": 7.46,
          "y4": 6.58
        },
        {
          "x1": 8,
          "x2": 8,
          "x3": 8,
          "x4": 8,
          "y1": 6.95,
          "y2": 8.14,
          "y3": 6.77,
          "y4": 5.76
        },
        {
          "x1": 13,
          "x2": 13,
          "x3": 13,
          "x4": 8,
          "y1": 7.58,
          "y2": 8.74,
          "y3": 12.74,
          "y4": 7.71
        },
        {
          "x1": 9,
          "x2": 9,
          "x3": 9,
          "x4": 8,
          "y1": 8.81,
          "y2": 8.77,
          "y3": 7.11,
          "y4": 8.84
        },
        {
          "x1": 11,
          "x2": 11,
          "x3": 11,
          "x4": 8,
          "y1": 8.33,
          "y2": 9.26,
          "y3": 7.81,
          "y4": 8.47
        },
        {
          "x1": 14,
          "x2": 14,
          "x3": 14,
          "x4": 8,
          "y1": 9.96,
          "y2": 8.1,
          "y3": 8.84,
          "y4": 7.04
        },
        {
          "x1": 6,
          "x2": 6,
          "x3": 6,
          "x4": 8,
          "y1": 7.24,
          "y2": 6.13,
          "y3": 6.08,
          "y4": 5.25
        },
        {
          "x1": 4,
          "x2": 4,
          "x3": 4,
          "x4": 19,
          "y1": 4.26,
          "y2": 3.1,
          "y3": 5.39,
          "y4": 12.5
        },
        {
          "x1": 12,
          "x2": 12,
          "x3": 12,
          "x4": 8,
          "y1": 10.84,
          "y2": 9.13,
          "y3": 8.15,
          "y4": 5.56
        },
        {
          "x1": 7,
          "x2": 7,
          "x3": 7,
          "x4": 8,
          "y1": 4.82,
          "y2": 7.26,
          "y3": 6.42,
          "y4": 7.91
        },
        {
          "x1": 5,
          "x2": 5,
          "x3": 5,
          "x4": 8,
          "y1": 5.68,
          "y2": 4.74,
          "y3": 5.73,
          "y4": 6.89
        }
      ]
    },
    "mark": "point",
    "encoding": {
      "x": {
        "field": "x1",
        "type": "quantitative"
      },
      "y": {
        "field": "y1",
        "type": "quantitative"
      }
    },
    "width": 300,
    "height": 300
  },
  "embed_options": {
    "defaultStyle": true,
    "renderer": "canvas"
  }
},"evals":[],"jsHooks":[]}</script><p>Here, the plotting area is 300 <span class="math inline">\(\times\)</span> 300. If we want to set the dimension of the entire plot, we can use the <code><a href="../reference/vw_autosize.html">vw_autosize()</a></code> function:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">spec_anscombe_autosize &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/vw_autosize.html">vw_autosize</a></span>(spec_anscombe_size, <span class="dt">width =</span> <span class="dv">300</span>, <span class="dt">height =</span> <span class="dv">300</span>)</a>
<a class="sourceLine" id="cb9-3" data-line-number="3"></a>
<a class="sourceLine" id="cb9-4" data-line-number="4">spec_anscombe_autosize</a></code></pre></div>
<div id="htmlwidget-1f12e5a33cfe8b0d154a" style="width:960px;height:500px;" class="vegawidget html-widget"></div>
<script type="application/json" data-for="htmlwidget-1f12e5a33cfe8b0d154a">{"x":{
  "chart_spec": {
    "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
    "data": {
      "values": [
        {
          "x1": 10,
          "x2": 10,
          "x3": 10,
          "x4": 8,
          "y1": 8.04,
          "y2": 9.14,
          "y3": 7.46,
          "y4": 6.58
        },
        {
          "x1": 8,
          "x2": 8,
          "x3": 8,
          "x4": 8,
          "y1": 6.95,
          "y2": 8.14,
          "y3": 6.77,
          "y4": 5.76
        },
        {
          "x1": 13,
          "x2": 13,
          "x3": 13,
          "x4": 8,
          "y1": 7.58,
          "y2": 8.74,
          "y3": 12.74,
          "y4": 7.71
        },
        {
          "x1": 9,
          "x2": 9,
          "x3": 9,
          "x4": 8,
          "y1": 8.81,
          "y2": 8.77,
          "y3": 7.11,
          "y4": 8.84
        },
        {
          "x1": 11,
          "x2": 11,
          "x3": 11,
          "x4": 8,
          "y1": 8.33,
          "y2": 9.26,
          "y3": 7.81,
          "y4": 8.47
        },
        {
          "x1": 14,
          "x2": 14,
          "x3": 14,
          "x4": 8,
          "y1": 9.96,
          "y2": 8.1,
          "y3": 8.84,
          "y4": 7.04
        },
        {
          "x1": 6,
          "x2": 6,
          "x3": 6,
          "x4": 8,
          "y1": 7.24,
          "y2": 6.13,
          "y3": 6.08,
          "y4": 5.25
        },
        {
          "x1": 4,
          "x2": 4,
          "x3": 4,
          "x4": 19,
          "y1": 4.26,
          "y2": 3.1,
          "y3": 5.39,
          "y4": 12.5
        },
        {
          "x1": 12,
          "x2": 12,
          "x3": 12,
          "x4": 8,
          "y1": 10.84,
          "y2": 9.13,
          "y3": 8.15,
          "y4": 5.56
        },
        {
          "x1": 7,
          "x2": 7,
          "x3": 7,
          "x4": 8,
          "y1": 4.82,
          "y2": 7.26,
          "y3": 6.42,
          "y4": 7.91
        },
        {
          "x1": 5,
          "x2": 5,
          "x3": 5,
          "x4": 8,
          "y1": 5.68,
          "y2": 4.74,
          "y3": 5.73,
          "y4": 6.89
        }
      ]
    },
    "mark": "point",
    "encoding": {
      "x": {
        "field": "x1",
        "type": "quantitative"
      },
      "y": {
        "field": "y1",
        "type": "quantitative"
      }
    },
    "width": 300,
    "height": 300,
    "config": {
      "autosize": {
        "type": "fit",
        "contains": "padding"
      },
      "view": {
        "width": 300,
        "height": 300
      }
    }
  },
  "embed_options": {
    "defaultStyle": true,
    "renderer": "canvas"
  }
},"evals":[],"jsHooks":[]}</script><p>In this context, the <code>width</code> and <code>height</code> are defined as the dimensions of the entire plot including axes, labels, padding, etc.</p>
<p>There are limitations to autosizing; the most prominent is that specifying width and height is <a href="https://vega.github.io/vega-lite/docs/size.html#limitations">effective only for single-view and layered specifications</a>. It will not work for specifications with multiple views (e.g. <code>hconcat</code>, <code>vconcat</code>, <code>facet</code>, <code>repeat</code>); this will issue a warning that there will be no effect on the specification when rendered.</p>
<p>For more information, see the Vega-Lite documentation on <a href="https://vega.github.io/vega-lite/docs/size.html#limitations">sizing</a>.</p>
</div>
<div id="compile-to-vega" class="section level2">
<h2 class="hasAnchor">
<a href="#compile-to-vega" class="anchor"></a>Compile to Vega</h2>
<p>When rendering a Vega-Lite specification, the vega-lite JavaScript library will compile the Vega-Lite specification into Vega. If you have the <strong>V8</strong> package installed, and want to compile a Vega-Lite specicifation to Vega, for your own purposes, you can use the <code><a href="../reference/vw_to_vega.html">vw_to_vega()</a></code> function.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">spec_anscombe_<span class="dv">1</span>_vega &lt;-<span class="st"> </span><span class="kw"><a href="../reference/vw_to_vega.html">vw_to_vega</a></span>(spec_anscombe_<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb10-2" data-line-number="2"></a>
<a class="sourceLine" id="cb10-3" data-line-number="3">spec_anscombe_<span class="dv">1</span>_vega</a></code></pre></div>
<div id="htmlwidget-ad1f96309bf766f04edc" style="width:960px;height:500px;" class="vegawidget html-widget"></div>
<script type="application/json" data-for="htmlwidget-ad1f96309bf766f04edc">{"x":{
  "chart_spec": {
    "$schema": "https://vega.github.io/schema/vega/v3.json",
    "autosize": "pad",
    "padding": 5,
    "width": 200,
    "height": 200,
    "style": "cell",
    "data": [
      {
        "name": "source_0",
        "values": [
          {
            "x1": 10,
            "x2": 10,
            "x3": 10,
            "x4": 8,
            "y1": 8.04,
            "y2": 9.14,
            "y3": 7.46,
            "y4": 6.58
          },
          {
            "x1": 8,
            "x2": 8,
            "x3": 8,
            "x4": 8,
            "y1": 6.95,
            "y2": 8.14,
            "y3": 6.77,
            "y4": 5.76
          },
          {
            "x1": 13,
            "x2": 13,
            "x3": 13,
            "x4": 8,
            "y1": 7.58,
            "y2": 8.74,
            "y3": 12.74,
            "y4": 7.71
          },
          {
            "x1": 9,
            "x2": 9,
            "x3": 9,
            "x4": 8,
            "y1": 8.81,
            "y2": 8.77,
            "y3": 7.11,
            "y4": 8.84
          },
          {
            "x1": 11,
            "x2": 11,
            "x3": 11,
            "x4": 8,
            "y1": 8.33,
            "y2": 9.26,
            "y3": 7.81,
            "y4": 8.47
          },
          {
            "x1": 14,
            "x2": 14,
            "x3": 14,
            "x4": 8,
            "y1": 9.96,
            "y2": 8.1,
            "y3": 8.84,
            "y4": 7.04
          },
          {
            "x1": 6,
            "x2": 6,
            "x3": 6,
            "x4": 8,
            "y1": 7.24,
            "y2": 6.13,
            "y3": 6.08,
            "y4": 5.25
          },
          {
            "x1": 4,
            "x2": 4,
            "x3": 4,
            "x4": 19,
            "y1": 4.26,
            "y2": 3.1,
            "y3": 5.39,
            "y4": 12.5
          },
          {
            "x1": 12,
            "x2": 12,
            "x3": 12,
            "x4": 8,
            "y1": 10.84,
            "y2": 9.13,
            "y3": 8.15,
            "y4": 5.56
          },
          {
            "x1": 7,
            "x2": 7,
            "x3": 7,
            "x4": 8,
            "y1": 4.82,
            "y2": 7.26,
            "y3": 6.42,
            "y4": 7.91
          },
          {
            "x1": 5,
            "x2": 5,
            "x3": 5,
            "x4": 8,
            "y1": 5.68,
            "y2": 4.74,
            "y3": 5.73,
            "y4": 6.89
          }
        ]
      },
      {
        "name": "data_0",
        "source": "source_0",
        "transform": [
          {
            "type": "formula",
            "expr": "toNumber(datum[\"x1\"])",
            "as": "x1"
          },
          {
            "type": "formula",
            "expr": "toNumber(datum[\"y1\"])",
            "as": "y1"
          },
          {
            "type": "filter",
            "expr": "datum[\"x1\"] !== null && !isNaN(datum[\"x1\"]) && datum[\"y1\"] !== null && !isNaN(datum[\"y1\"])"
          }
        ]
      }
    ],
    "marks": [
      {
        "name": "marks",
        "type": "symbol",
        "style": [
          "point"
        ],
        "from": {
          "data": "data_0"
        },
        "encode": {
          "update": {
            "opacity": {
              "value": 0.7
            },
            "fill": {
              "value": "transparent"
            },
            "stroke": {
              "value": "#4c78a8"
            },
            "x": {
              "scale": "x",
              "field": "x1"
            },
            "y": {
              "scale": "y",
              "field": "y1"
            }
          }
        }
      }
    ],
    "scales": [
      {
        "name": "x",
        "type": "linear",
        "domain": {
          "data": "data_0",
          "field": "x1"
        },
        "range": [
          0,
          {
            "signal": "width"
          }
        ],
        "nice": true,
        "zero": true
      },
      {
        "name": "y",
        "type": "linear",
        "domain": {
          "data": "data_0",
          "field": "y1"
        },
        "range": [
          {
            "signal": "height"
          },
          0
        ],
        "nice": true,
        "zero": true
      }
    ],
    "axes": [
      {
        "scale": "x",
        "orient": "bottom",
        "grid": false,
        "title": "x1",
        "labelFlush": true,
        "labelOverlap": true,
        "tickCount": {
          "signal": "ceil(width/40)"
        },
        "zindex": 1
      },
      {
        "scale": "x",
        "orient": "bottom",
        "grid": true,
        "tickCount": {
          "signal": "ceil(width/40)"
        },
        "gridScale": "y",
        "domain": false,
        "labels": false,
        "maxExtent": 0,
        "minExtent": 0,
        "ticks": false,
        "zindex": 0
      },
      {
        "scale": "y",
        "orient": "left",
        "grid": false,
        "title": "y1",
        "labelOverlap": true,
        "tickCount": {
          "signal": "ceil(height/40)"
        },
        "zindex": 1
      },
      {
        "scale": "y",
        "orient": "left",
        "grid": true,
        "tickCount": {
          "signal": "ceil(height/40)"
        },
        "gridScale": "x",
        "domain": false,
        "labels": false,
        "maxExtent": 0,
        "minExtent": 0,
        "ticks": false,
        "zindex": 0
      }
    ],
    "config": {
      "axisY": {
        "minExtent": 30
      }
    }
  },
  "embed_options": {
    "defaultStyle": true,
    "renderer": "canvas"
  }
},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw"><a href="../reference/vw_spec_version.html">vw_spec_version</a></span>(spec_anscombe_<span class="dv">1</span>_vega)</a></code></pre></div>
<pre><code>## $library
## [1] "vega"
## 
## $version
## [1] "3"</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw"><a href="../reference/vw_examine.html">vw_examine</a></span>(spec_anscombe_<span class="dv">1</span>_vega)</a></code></pre></div>
<div id="htmlwidget-76e6ef0516df8ce4433d" style="width:700px;height:432.632880098888px;" class="jsonedit html-widget"></div>
<script type="application/json" data-for="htmlwidget-76e6ef0516df8ce4433d">{"x":{"data":{"$schema":"https://vega.github.io/schema/vega/v3.json","autosize":"pad","padding":5,"width":200,"height":200,"style":"cell","data":[{"name":"source_0","values":[{"x1":10,"x2":10,"x3":10,"x4":8,"y1":8.04,"y2":9.14,"y3":7.46,"y4":6.58},{"x1":8,"x2":8,"x3":8,"x4":8,"y1":6.95,"y2":8.14,"y3":6.77,"y4":5.76},{"x1":13,"x2":13,"x3":13,"x4":8,"y1":7.58,"y2":8.74,"y3":12.74,"y4":7.71},{"x1":9,"x2":9,"x3":9,"x4":8,"y1":8.81,"y2":8.77,"y3":7.11,"y4":8.84},{"x1":11,"x2":11,"x3":11,"x4":8,"y1":8.33,"y2":9.26,"y3":7.81,"y4":8.47},{"x1":14,"x2":14,"x3":14,"x4":8,"y1":9.96,"y2":8.1,"y3":8.84,"y4":7.04},{"x1":6,"x2":6,"x3":6,"x4":8,"y1":7.24,"y2":6.13,"y3":6.08,"y4":5.25},{"x1":4,"x2":4,"x3":4,"x4":19,"y1":4.26,"y2":3.1,"y3":5.39,"y4":12.5},{"x1":12,"x2":12,"x3":12,"x4":8,"y1":10.84,"y2":9.13,"y3":8.15,"y4":5.56},{"x1":7,"x2":7,"x3":7,"x4":8,"y1":4.82,"y2":7.26,"y3":6.42,"y4":7.91},{"x1":5,"x2":5,"x3":5,"x4":8,"y1":5.68,"y2":4.74,"y3":5.73,"y4":6.89}]},{"name":"data_0","source":"source_0","transform":[{"type":"formula","expr":"toNumber(datum[\"x1\"])","as":"x1"},{"type":"formula","expr":"toNumber(datum[\"y1\"])","as":"y1"},{"type":"filter","expr":"datum[\"x1\"] !== null && !isNaN(datum[\"x1\"]) && datum[\"y1\"] !== null && !isNaN(datum[\"y1\"])"}]}],"marks":[{"name":"marks","type":"symbol","style":["point"],"from":{"data":"data_0"},"encode":{"update":{"opacity":{"value":0.7},"fill":{"value":"transparent"},"stroke":{"value":"#4c78a8"},"x":{"scale":"x","field":"x1"},"y":{"scale":"y","field":"y1"}}}}],"scales":[{"name":"x","type":"linear","domain":{"data":"data_0","field":"x1"},"range":[0,{"signal":"width"}],"nice":true,"zero":true},{"name":"y","type":"linear","domain":{"data":"data_0","field":"y1"},"range":[{"signal":"height"},0],"nice":true,"zero":true}],"axes":[{"scale":"x","orient":"bottom","grid":false,"title":"x1","labelFlush":true,"labelOverlap":true,"tickCount":{"signal":"ceil(width/40)"},"zindex":1},{"scale":"x","orient":"bottom","grid":true,"tickCount":{"signal":"ceil(width/40)"},"gridScale":"y","domain":false,"labels":false,"maxExtent":0,"minExtent":0,"ticks":false,"zindex":0},{"scale":"y","orient":"left","grid":false,"title":"y1","labelOverlap":true,"tickCount":{"signal":"ceil(height/40)"},"zindex":1},{"scale":"y","orient":"left","grid":true,"tickCount":{"signal":"ceil(height/40)"},"gridScale":"x","domain":false,"labels":false,"maxExtent":0,"minExtent":0,"ticks":false,"zindex":0}],"config":{"axisY":{"minExtent":30}}},"options":{"mode":"tree","modes":["code","form","text","tree","view"]}},"evals":[],"jsHooks":[]}</script><p>You can autosize a Vega specification.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw"><a href="../reference/vw_autosize.html">vw_autosize</a></span>(spec_anscombe_<span class="dv">1</span>_vega, <span class="dt">width =</span> <span class="dv">300</span>, <span class="dt">height =</span> <span class="dv">300</span>)</a></code></pre></div>
<div id="htmlwidget-b885a4dc8a9c2a9b97ea" style="width:960px;height:500px;" class="vegawidget html-widget"></div>
<script type="application/json" data-for="htmlwidget-b885a4dc8a9c2a9b97ea">{"x":{
  "chart_spec": {
    "$schema": "https://vega.github.io/schema/vega/v3.json",
    "autosize": {
      "type": "fit",
      "contains": "padding"
    },
    "padding": 5,
    "width": 300,
    "height": 300,
    "style": "cell",
    "data": [
      {
        "name": "source_0",
        "values": [
          {
            "x1": 10,
            "x2": 10,
            "x3": 10,
            "x4": 8,
            "y1": 8.04,
            "y2": 9.14,
            "y3": 7.46,
            "y4": 6.58
          },
          {
            "x1": 8,
            "x2": 8,
            "x3": 8,
            "x4": 8,
            "y1": 6.95,
            "y2": 8.14,
            "y3": 6.77,
            "y4": 5.76
          },
          {
            "x1": 13,
            "x2": 13,
            "x3": 13,
            "x4": 8,
            "y1": 7.58,
            "y2": 8.74,
            "y3": 12.74,
            "y4": 7.71
          },
          {
            "x1": 9,
            "x2": 9,
            "x3": 9,
            "x4": 8,
            "y1": 8.81,
            "y2": 8.77,
            "y3": 7.11,
            "y4": 8.84
          },
          {
            "x1": 11,
            "x2": 11,
            "x3": 11,
            "x4": 8,
            "y1": 8.33,
            "y2": 9.26,
            "y3": 7.81,
            "y4": 8.47
          },
          {
            "x1": 14,
            "x2": 14,
            "x3": 14,
            "x4": 8,
            "y1": 9.96,
            "y2": 8.1,
            "y3": 8.84,
            "y4": 7.04
          },
          {
            "x1": 6,
            "x2": 6,
            "x3": 6,
            "x4": 8,
            "y1": 7.24,
            "y2": 6.13,
            "y3": 6.08,
            "y4": 5.25
          },
          {
            "x1": 4,
            "x2": 4,
            "x3": 4,
            "x4": 19,
            "y1": 4.26,
            "y2": 3.1,
            "y3": 5.39,
            "y4": 12.5
          },
          {
            "x1": 12,
            "x2": 12,
            "x3": 12,
            "x4": 8,
            "y1": 10.84,
            "y2": 9.13,
            "y3": 8.15,
            "y4": 5.56
          },
          {
            "x1": 7,
            "x2": 7,
            "x3": 7,
            "x4": 8,
            "y1": 4.82,
            "y2": 7.26,
            "y3": 6.42,
            "y4": 7.91
          },
          {
            "x1": 5,
            "x2": 5,
            "x3": 5,
            "x4": 8,
            "y1": 5.68,
            "y2": 4.74,
            "y3": 5.73,
            "y4": 6.89
          }
        ]
      },
      {
        "name": "data_0",
        "source": "source_0",
        "transform": [
          {
            "type": "formula",
            "expr": "toNumber(datum[\"x1\"])",
            "as": "x1"
          },
          {
            "type": "formula",
            "expr": "toNumber(datum[\"y1\"])",
            "as": "y1"
          },
          {
            "type": "filter",
            "expr": "datum[\"x1\"] !== null && !isNaN(datum[\"x1\"]) && datum[\"y1\"] !== null && !isNaN(datum[\"y1\"])"
          }
        ]
      }
    ],
    "marks": [
      {
        "name": "marks",
        "type": "symbol",
        "style": [
          "point"
        ],
        "from": {
          "data": "data_0"
        },
        "encode": {
          "update": {
            "opacity": {
              "value": 0.7
            },
            "fill": {
              "value": "transparent"
            },
            "stroke": {
              "value": "#4c78a8"
            },
            "x": {
              "scale": "x",
              "field": "x1"
            },
            "y": {
              "scale": "y",
              "field": "y1"
            }
          }
        }
      }
    ],
    "scales": [
      {
        "name": "x",
        "type": "linear",
        "domain": {
          "data": "data_0",
          "field": "x1"
        },
        "range": [
          0,
          {
            "signal": "width"
          }
        ],
        "nice": true,
        "zero": true
      },
      {
        "name": "y",
        "type": "linear",
        "domain": {
          "data": "data_0",
          "field": "y1"
        },
        "range": [
          {
            "signal": "height"
          },
          0
        ],
        "nice": true,
        "zero": true
      }
    ],
    "axes": [
      {
        "scale": "x",
        "orient": "bottom",
        "grid": false,
        "title": "x1",
        "labelFlush": true,
        "labelOverlap": true,
        "tickCount": {
          "signal": "ceil(width/40)"
        },
        "zindex": 1
      },
      {
        "scale": "x",
        "orient": "bottom",
        "grid": true,
        "tickCount": {
          "signal": "ceil(width/40)"
        },
        "gridScale": "y",
        "domain": false,
        "labels": false,
        "maxExtent": 0,
        "minExtent": 0,
        "ticks": false,
        "zindex": 0
      },
      {
        "scale": "y",
        "orient": "left",
        "grid": false,
        "title": "y1",
        "labelOverlap": true,
        "tickCount": {
          "signal": "ceil(height/40)"
        },
        "zindex": 1
      },
      {
        "scale": "y",
        "orient": "left",
        "grid": true,
        "tickCount": {
          "signal": "ceil(height/40)"
        },
        "gridScale": "x",
        "domain": false,
        "labels": false,
        "maxExtent": 0,
        "minExtent": 0,
        "ticks": false,
        "zindex": 0
      }
    ],
    "config": {
      "axisY": {
        "minExtent": 30
      },
      "autosize": {
        "type": "fit",
        "contains": "padding"
      }
    }
  },
  "embed_options": {
    "defaultStyle": true,
    "renderer": "canvas"
  }
},"evals":[],"jsHooks":[]}</script>
</div>
<div id="gotchas" class="section level2">
<h2 class="hasAnchor">
<a href="#gotchas" class="anchor"></a>Gotchas</h2>
<p>There are a few things to keep your eyes open-for if you are building vegaspec:</p>
<ul>
<li><p>If the JSON needs a <code>null</code>, supply a <code>NULL</code> from R.</p></li>
<li><p>If the JSON needs an element called <code>repeat</code>, keep in mind that this is a reserved word in R. You can specify such an element using backticks, e.g. <code>list(`repeat` =  ...)</code>.</p></li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#vegaspec">Vegaspec</a></li>
      <li><a href="#printing">Printing</a></li>
      <li><a href="#json">JSON</a></li>
      <li><a href="#sizing">Sizing</a></li>
      <li><a href="#compile-to-vega">Compile to Vega</a></li>
      <li><a href="#gotchas">Gotchas</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Ian Lyttle, Vega/Vega-Lite Developers.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
